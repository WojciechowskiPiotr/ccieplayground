<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<topology xmlns="http://www.cisco.com/VIRL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" schemaVersion="0.95" xsi:schemaLocation="http://www.cisco.com/VIRL https://raw.github.com/CiscoVIRL/schema/v0.95/virl.xsd">
    <extensions>
        <entry key="AutoNetkit.enable_cdp" type="Boolean">true</entry>
        <entry key="management_network" type="String">flat</entry>
        <entry key="AutoNetkit.address_family" type="String">v4</entry>
        <entry key="management_lxc" type="Boolean">false</entry>
        <entry key="AutoNetkit.enable_routing" type="Boolean">false</entry>
    </extensions>
    <node name="asav-1" type="SIMPLE" subtype="ASAv" location="248,290" vmImage="ASAv [c5e9a9d9-d9d2-4e61-804b-b5bdddd4cab8]" vmFlavor="ASAv [bfa9776c-1b18-463f-850e-a4ecf3c60f63]">
        <extensions>
            <entry key="AutoNetkit.ASN" type="Integer">10</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"></entry>
            <entry key="static_ip" type="String">172.16.1.51</entry>
            <entry key="AutoNetkit.ibgp_role" type="String">Disabled</entry>
            <entry key="config" type="String">! ASAv Config generated on 2016-10-23 18:15
! by autonetkit_0.23.3
!
hostname asav-1
username cisco password cisco privilege 15
enable password cisco
passwd cisco
names
!
route mgmt 192.168.1.0 255.255.255.0 172.16.1.1
rest-api image boot:/asa-restapi-122200-lfbff-k8.SPA
rest-api agent 
asdm image boot:/asdm-75269.bin 
asdm history enable
logging buffered debugging
logging asdm informational
route dst-asav-3 10.1.128.0 255.255.128.0 10.1.0.2 1
route dst-asav-2 10.2.128.0 255.255.128.0 10.2.0.2 1
route dst-asav-2 10.3.0.0 255.255.128.0 10.2.0.2 1
route dst-asav-3 10.3.128.0 255.255.128.0 10.1.0.2 1


!
interface GigabitEthernet0/0
  description to asav-3
  duplex full
  nameif outside
  security-level 0
  no shutdown
  ip address 10.3.0.1 255.255.128.0
interface GigabitEthernet0/1
  description to asav-2
  duplex full
  nameif outside-1
  security-level 0
  no shutdown
  ip address 10.2.0.1 255.255.128.0
interface GigabitEthernet0/2
  description to lxc-sshd-1
  duplex full
  nameif outside-2
  security-level 0
  no shutdown
  ip address 10.0.0.2 255.255.128.0
interface GigabitEthernet0/3
  description to lxc-sshd-4
  duplex full
  nameif outside-3
  security-level 0
  no shutdown
  ip address 10.0.128.1 255.255.128.0
interface Management0/0
  description OOB Management
  duplex full
  management-only
  nameif mgmt
  security-level 100
  no shutdown
  ! Configured on launch
  no ip address
!
same-security-traffic permit inter-interface
logging enable
logging asdm informational
user-identity default-domain LOCAL
aaa authentication ssh console LOCAL
http server enable
http 0.0.0.0 0.0.0.0 mgmt
ssh 0.0.0.0 0.0.0.0 mgmt
telnet 0.0.0.0 0.0.0.0 mgmt
http 0.0.0.0 0.0.0.0 outside
ssh 0.0.0.0 0.0.0.0 outside
telnet 0.0.0.0 0.0.0.0 outside
http 0.0.0.0 0.0.0.0 outside-1
ssh 0.0.0.0 0.0.0.0 outside-1
telnet 0.0.0.0 0.0.0.0 outside-1
http 0.0.0.0 0.0.0.0 outside-2
ssh 0.0.0.0 0.0.0.0 outside-2
telnet 0.0.0.0 0.0.0.0 outside-2
http 0.0.0.0 0.0.0.0 outside-3
ssh 0.0.0.0 0.0.0.0 outside-3
telnet 0.0.0.0 0.0.0.0 outside-3
ssh version 2
crypto key generate rsa modulus 768
telnet timeout 15
console timeout 0
username cisco password cisco privilege 15
!
class-map inspection_default
 match default-inspection-traffic
!
!
policy-map type inspect dns preset_dns_map
 parameters
  message-length maximum client auto
  message-length maximum 512
policy-map global_policy
 class inspection_default
  inspect ip-options
  inspect netbios
  inspect rtsp
  inspect sunrpc
  inspect tftp
  inspect xdmcp
  inspect dns preset_dns_map
  inspect ftp
  inspect h323 h225
  inspect h323 ras
  inspect rsh
  inspect esmtp
  inspect sqlnet
  inspect sip
  inspect skinny
  inspect icmp
  inspect http
!
service-policy global_policy global
no call-home reporting anonymous
call-home
 profile CiscoTAC-1
  no active
end
        </entry>
            <entry key="AutoNetkit.custom_config_global" type="String">route mgmt 192.168.1.0 255.255.255.0 172.16.1.1&#xD;
rest-api image boot:/asa-restapi-122200-lfbff-k8.SPA&#xD;
rest-api agent &#xD;
asdm image boot:/asdm-75269.bin &#xD;
asdm history enable&#xD;
logging buffered debugging&#xD;
logging asdm informational&#xD;
route dst-asav-3 10.1.128.0 255.255.128.0 10.1.0.2 1&#xD;
route dst-asav-2 10.2.128.0 255.255.128.0 10.2.0.2 1&#xD;
route dst-asav-2 10.3.0.0 255.255.128.0 10.2.0.2 1&#xD;
route dst-asav-3 10.3.128.0 255.255.128.0 10.1.0.2 1&#xD;
</entry>
        </extensions>
        <interface id="0" name="GigabitEthernet0/0" ipv4="10.3.0.1" netPrefixLenV4="17"/>
        <interface id="1" name="GigabitEthernet0/1" ipv4="10.2.0.1" netPrefixLenV4="17"/>
        <interface id="2" name="GigabitEthernet0/2" ipv4="10.0.0.2" netPrefixLenV4="17"/>
        <interface id="3" name="GigabitEthernet0/3" ipv4="10.0.128.1" netPrefixLenV4="17"/>
    </node>
    <node name="asav-2" type="SIMPLE" subtype="ASAv" location="413,186">
        <extensions>
            <entry key="AutoNetkit.ASN" type="Integer">20</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"></entry>
            <entry key="static_ip" type="String">172.16.1.52</entry>
            <entry key="AutoNetkit.custom_config_phy_ints" type="String">security-level 50</entry>
            <entry key="config" type="String">! ASAv Config generated on 2016-10-23 18:15
! by autonetkit_0.23.3
!
hostname asav-2
username cisco password cisco privilege 15
enable password cisco
passwd cisco
names
!
route mgmt 192.168.1.0 255.255.255.0 172.16.1.1
rest-api image boot:/asa-restapi-122200-lfbff-k8.SPA
rest-api agent 
asdm image boot:/asdm-75269.bin 
asdm history enable
logging buffered debugging
logging asdm informational
aaa authentication http console LOCAL 
http server enable
route dst-asav-1 10.0.0.0 255.255.0.0 10.2.0.1 1
route dst-asav-4 10.3.0.0 255.255.128.0 10.2.128.2 1

!
interface GigabitEthernet0/0
  description to asav-4
  duplex full
  nameif outside
  security-level 0
  no shutdown
  ip address 10.2.128.1 255.255.128.0
interface GigabitEthernet0/1
  description to asav-1
  duplex full
  nameif outside-1
  security-level 0
  no shutdown
  ip address 10.2.0.2 255.255.128.0
interface Management0/0
  description OOB Management
  duplex full
  management-only
  nameif mgmt
  security-level 100
  no shutdown
  ! Configured on launch
  no ip address
!
same-security-traffic permit inter-interface
logging enable
logging asdm informational
user-identity default-domain LOCAL
aaa authentication ssh console LOCAL
http server enable
http 0.0.0.0 0.0.0.0 mgmt
ssh 0.0.0.0 0.0.0.0 mgmt
telnet 0.0.0.0 0.0.0.0 mgmt
http 0.0.0.0 0.0.0.0 outside
ssh 0.0.0.0 0.0.0.0 outside
telnet 0.0.0.0 0.0.0.0 outside
http 0.0.0.0 0.0.0.0 outside-1
ssh 0.0.0.0 0.0.0.0 outside-1
telnet 0.0.0.0 0.0.0.0 outside-1
ssh version 2
crypto key generate rsa modulus 768
telnet timeout 15
console timeout 0
username cisco password cisco privilege 15
!
class-map inspection_default
 match default-inspection-traffic
!
!
policy-map type inspect dns preset_dns_map
 parameters
  message-length maximum client auto
  message-length maximum 512
policy-map global_policy
 class inspection_default
  inspect ip-options
  inspect netbios
  inspect rtsp
  inspect sunrpc
  inspect tftp
  inspect xdmcp
  inspect dns preset_dns_map
  inspect ftp
  inspect h323 h225
  inspect h323 ras
  inspect rsh
  inspect esmtp
  inspect sqlnet
  inspect sip
  inspect skinny
  inspect icmp
  inspect http
!
service-policy global_policy global
no call-home reporting anonymous
call-home
 profile CiscoTAC-1
  no active
end
        </entry>
            <entry key="AutoNetkit.ibgp_role" type="String">Peer</entry>
            <entry key="AutoNetkit.custom_config_global" type="String">route mgmt 192.168.1.0 255.255.255.0 172.16.1.1&#xD;
rest-api image boot:/asa-restapi-122200-lfbff-k8.SPA&#xD;
rest-api agent &#xD;
asdm image boot:/asdm-75269.bin &#xD;
asdm history enable&#xD;
logging buffered debugging&#xD;
logging asdm informational&#xD;
aaa authentication http console LOCAL &#xD;
http server enable&#xD;
route dst-asav-1 10.0.0.0 255.255.0.0 10.2.0.1 1&#xD;
route dst-asav-4 10.3.0.0 255.255.128.0 10.2.128.2 1&#xD;
crypto key generate rsa modulus 2048&#xD;
</entry>
            <entry key="Auto-generate config" type="Boolean">false</entry>
        </extensions>
        <interface id="0" name="GigabitEthernet0/0" ipv4="10.2.128.1" netPrefixLenV4="17"/>
        <interface id="1" name="GigabitEthernet0/1" ipv4="10.2.0.2" netPrefixLenV4="17"/>
    </node>
    <node name="asav-3" type="SIMPLE" subtype="ASAv" location="415,363">
        <extensions>
            <entry key="AutoNetkit.ASN" type="Integer">30</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"></entry>
            <entry key="static_ip" type="String">172.16.1.53</entry>
            <entry key="AutoNetkit.ibgp_role" type="String">Disabled</entry>
            <entry key="AutoNetkit.custom_config_phy_ints" type="String">security-level 50</entry>
            <entry key="config" type="String">! ASAv Config generated on 2016-10-23 18:15
! by autonetkit_0.23.3
!
hostname asav-3
username cisco password cisco privilege 15
enable password cisco
passwd cisco
names
!
route mgmt 192.168.1.0 255.255.255.0 172.16.1.1
rest-api image boot:/asa-restapi-122200-lfbff-k8.SPA
rest-api agent 
asdm image boot:/asdm-75269.bin 
asdm history enable
logging buffered debugging
logging asdm informational
aaa authentication http console LOCAL 
http server enable
route dst-asav-1 10.0.128.0 255.255.0.0 10.1.0.1 1
route dst-asav-4 10.3.128.0 255.255.128.0 10.1.128.2 1

!
interface GigabitEthernet0/0
  description to asav-1
  duplex full
  nameif outside
  security-level 0
  no shutdown
  ip address 10.3.0.2 255.255.128.0
interface GigabitEthernet0/1
  description to asav-4
  duplex full
  nameif outside-1
  security-level 0
  no shutdown
  ip address 10.3.128.1 255.255.128.0
interface Management0/0
  description OOB Management
  duplex full
  management-only
  nameif mgmt
  security-level 100
  no shutdown
  ! Configured on launch
  no ip address
!
same-security-traffic permit inter-interface
logging enable
logging asdm informational
user-identity default-domain LOCAL
aaa authentication ssh console LOCAL
http server enable
http 0.0.0.0 0.0.0.0 mgmt
ssh 0.0.0.0 0.0.0.0 mgmt
telnet 0.0.0.0 0.0.0.0 mgmt
http 0.0.0.0 0.0.0.0 outside
ssh 0.0.0.0 0.0.0.0 outside
telnet 0.0.0.0 0.0.0.0 outside
http 0.0.0.0 0.0.0.0 outside-1
ssh 0.0.0.0 0.0.0.0 outside-1
telnet 0.0.0.0 0.0.0.0 outside-1
ssh version 2
crypto key generate rsa modulus 768
telnet timeout 15
console timeout 0
username cisco password cisco privilege 15
!
class-map inspection_default
 match default-inspection-traffic
!
!
policy-map type inspect dns preset_dns_map
 parameters
  message-length maximum client auto
  message-length maximum 512
policy-map global_policy
 class inspection_default
  inspect ip-options
  inspect netbios
  inspect rtsp
  inspect sunrpc
  inspect tftp
  inspect xdmcp
  inspect dns preset_dns_map
  inspect ftp
  inspect h323 h225
  inspect h323 ras
  inspect rsh
  inspect esmtp
  inspect sqlnet
  inspect sip
  inspect skinny
  inspect icmp
  inspect http
!
service-policy global_policy global
no call-home reporting anonymous
call-home
 profile CiscoTAC-1
  no active
end
        </entry>
            <entry key="AutoNetkit.custom_config_global" type="String">route mgmt 192.168.1.0 255.255.255.0 172.16.1.1&#xD;
rest-api image boot:/asa-restapi-122200-lfbff-k8.SPA&#xD;
rest-api agent &#xD;
asdm image boot:/asdm-75269.bin &#xD;
asdm history enable&#xD;
logging buffered debugging&#xD;
logging asdm informational&#xD;
aaa authentication http console LOCAL &#xD;
http server enable&#xD;
route dst-asav-1 10.0.128.0 255.255.0.0 10.1.0.1 1&#xD;
route dst-asav-4 10.3.128.0 255.255.128.0 10.1.128.2 1&#xD;
crypto key generate rsa modulus 2048&#xD;
</entry>
            <entry key="Auto-generate config" type="Boolean">false</entry>
        </extensions>
        <interface id="0" name="GigabitEthernet0/0" ipv4="10.3.0.2" netPrefixLenV4="17"/>
        <interface id="1" name="GigabitEthernet0/1" ipv4="10.3.128.1" netPrefixLenV4="17"/>
    </node>
    <node name="asav-4" type="SIMPLE" subtype="ASAv" location="613,271">
        <extensions>
            <entry key="AutoNetkit.ASN" type="Integer">40</entry>
            <entry key="AutoNetkit.mgmt_ip" type="string"></entry>
            <entry key="static_ip" type="String">172.16.1.54</entry>
            <entry key="AutoNetkit.ibgp_role" type="String">Disabled</entry>
            <entry key="AutoNetkit.custom_config_phy_ints" type="String">security-level 50</entry>
            <entry key="config" type="String">! ASAv Config generated on 2016-10-23 18:15
! by autonetkit_0.23.3
!
hostname asav-4
username cisco password cisco privilege 15
enable password cisco
passwd cisco
names
!
route mgmt 192.168.1.0 255.255.255.0 172.16.1.1
rest-api image boot:/asa-restapi-122200-lfbff-k8.SPA
rest-api agent 
asdm image boot:/asdm-75269.bin 
asdm history enable
logging buffered debugging
logging asdm informational
aaa authentication http console LOCAL 
http server enable
route dst-asav-2 10.0.0.0 255.255.0.0 10.2.128.1 1
route dst-asav-3 10.1.0.0 255.255.128.0 10.1.128.1 1
route dst-asav-2 10.2.0.0 255.255.128.0 10.2.128.1 1
route dst-asav-3 10.0.128.0 255.255.128.0 10.1.128.1 1

!
interface GigabitEthernet0/0
  description to asav-2
  duplex full
  nameif outside
  security-level 0
  no shutdown
  ip address 10.2.128.2 255.255.128.0
interface GigabitEthernet0/1
  description to asav-3
  duplex full
  nameif outside-1
  security-level 0
  no shutdown
  ip address 10.3.128.2 255.255.128.0
interface GigabitEthernet0/2
  description to lxc-sshd-2
  duplex full
  nameif outside-2
  security-level 0
  no shutdown
  ip address 10.1.0.2 255.255.128.0
interface GigabitEthernet0/3
  description to lxc-sshd-3
  duplex full
  nameif outside-3
  security-level 0
  no shutdown
  ip address 10.1.128.2 255.255.128.0
interface Management0/0
  description OOB Management
  duplex full
  management-only
  nameif mgmt
  security-level 100
  no shutdown
  ! Configured on launch
  no ip address
!
same-security-traffic permit inter-interface
logging enable
logging asdm informational
user-identity default-domain LOCAL
aaa authentication ssh console LOCAL
http server enable
http 0.0.0.0 0.0.0.0 mgmt
ssh 0.0.0.0 0.0.0.0 mgmt
telnet 0.0.0.0 0.0.0.0 mgmt
http 0.0.0.0 0.0.0.0 outside
ssh 0.0.0.0 0.0.0.0 outside
telnet 0.0.0.0 0.0.0.0 outside
http 0.0.0.0 0.0.0.0 outside-1
ssh 0.0.0.0 0.0.0.0 outside-1
telnet 0.0.0.0 0.0.0.0 outside-1
http 0.0.0.0 0.0.0.0 outside-2
ssh 0.0.0.0 0.0.0.0 outside-2
telnet 0.0.0.0 0.0.0.0 outside-2
http 0.0.0.0 0.0.0.0 outside-3
ssh 0.0.0.0 0.0.0.0 outside-3
telnet 0.0.0.0 0.0.0.0 outside-3
ssh version 2
crypto key generate rsa modulus 768
telnet timeout 15
console timeout 0
username cisco password cisco privilege 15
!
class-map inspection_default
 match default-inspection-traffic
!
!
policy-map type inspect dns preset_dns_map
 parameters
  message-length maximum client auto
  message-length maximum 512
policy-map global_policy
 class inspection_default
  inspect ip-options
  inspect netbios
  inspect rtsp
  inspect sunrpc
  inspect tftp
  inspect xdmcp
  inspect dns preset_dns_map
  inspect ftp
  inspect h323 h225
  inspect h323 ras
  inspect rsh
  inspect esmtp
  inspect sqlnet
  inspect sip
  inspect skinny
  inspect icmp
  inspect http
!
service-policy global_policy global
no call-home reporting anonymous
call-home
 profile CiscoTAC-1
  no active
end
        </entry>
            <entry key="AutoNetkit.custom_config_global" type="String">route mgmt 192.168.1.0 255.255.255.0 172.16.1.1&#xD;
rest-api image boot:/asa-restapi-122200-lfbff-k8.SPA&#xD;
rest-api agent &#xD;
asdm image boot:/asdm-75269.bin &#xD;
asdm history enable&#xD;
logging buffered debugging&#xD;
logging asdm informational&#xD;
aaa authentication http console LOCAL &#xD;
http server enable&#xD;
route dst-asav-2 10.0.0.0 255.255.0.0 10.2.128.1 1&#xD;
route dst-asav-3 10.1.0.0 255.255.128.0 10.1.128.1 1&#xD;
route dst-asav-2 10.2.0.0 255.255.128.0 10.2.128.1 1&#xD;
route dst-asav-3 10.0.128.0 255.255.128.0 10.1.128.1 1&#xD;
crypto key generate rsa modulus 2048&#xD;
</entry>
            <entry key="Auto-generate config" type="Boolean">false</entry>
        </extensions>
        <interface id="0" name="GigabitEthernet0/0" ipv4="10.2.128.2" netPrefixLenV4="17"/>
        <interface id="1" name="GigabitEthernet0/1" ipv4="10.3.128.2" netPrefixLenV4="17"/>
        <interface id="2" name="GigabitEthernet0/2" ipv4="10.1.0.2" netPrefixLenV4="17"/>
        <interface id="3" name="GigabitEthernet0/3" ipv4="10.1.128.2" netPrefixLenV4="17"/>
    </node>
    <node name="lxc-sshd-1" type="SIMPLE" subtype="lxc-sshd" location="135,186">
        <extensions>
            <entry key="AutoNetkit.ASN" type="Integer">10</entry>
            <entry key="config" type="String">#cloud-config
bootcmd:
- ln -s -t /etc/rc.d /etc/rc.local
hostname: lxc-sshd-1
manage_etc_hosts: true
runcmd:
- systemctl start rc-local
- sed -i '/^\s*PasswordAuthentication\s\+no/d' /etc/ssh/sshd_config
- echo "UseDNS no" &gt;&gt; /etc/ssh/sshd_config
- service ssh restart
- service sshd restart
users:
- default
- gecos: User configured by VIRL Configuration Engine 0.23.7
  lock-passwd: false
  name: cisco
  plain-text-passwd: cisco
  shell: /bin/bash
  ssh-authorized-keys:
  - VIRL-USER-SSH-PUBLIC-KEY
  sudo: ALL=(ALL) ALL
write_files:
- path: /etc/systemd/system/dhclient@.service
  content: |
    [Unit]
    Description=Run dhclient on %i interface
    After=network.target
    [Service]
    Type=oneshot
    ExecStart=/sbin/dhclient %i -pf /var/run/dhclient.%i.pid -lf /var/lib/dhclient/dhclient.%i.lease
    RemainAfterExit=yes
  owner: root:root
  permissions: '0644'
- path: /etc/rc.local
  owner: root:root
  permissions: '0755'
  content: |-
    #!/bin/sh
    ifconfig eth1 up 10.0.0.2 netmask 255.255.0.0
    exit 0
</entry>
            <entry key="static_ip" type="String">172.16.1.61</entry>
            <entry key="Auto-generate config" type="Boolean">false</entry>
        </extensions>
        <interface id="0" name="eth1" ipv4="10.0.0.2" netPrefixLenV4="16"/>
    </node>
    <node name="lxc-sshd-2" type="SIMPLE" subtype="lxc-sshd" location="752,181">
        <extensions>
            <entry key="AutoNetkit.ASN" type="Integer">40</entry>
            <entry key="config" type="String">#cloud-config
bootcmd:
- ln -s -t /etc/rc.d /etc/rc.local
hostname: lxc-sshd-2
manage_etc_hosts: true
runcmd:
- systemctl start rc-local
- sed -i '/^\s*PasswordAuthentication\s\+no/d' /etc/ssh/sshd_config
- echo "UseDNS no" &gt;&gt; /etc/ssh/sshd_config
- service ssh restart
- service sshd restart
users:
- default
- gecos: User configured by VIRL Configuration Engine 0.23.7
  lock-passwd: false
  name: cisco
  plain-text-passwd: cisco
  shell: /bin/bash
  ssh-authorized-keys:
  - VIRL-USER-SSH-PUBLIC-KEY
  sudo: ALL=(ALL) ALL
write_files:
- path: /etc/systemd/system/dhclient@.service
  content: |
    [Unit]
    Description=Run dhclient on %i interface
    After=network.target
    [Service]
    Type=oneshot
    ExecStart=/sbin/dhclient %i -pf /var/run/dhclient.%i.pid -lf /var/lib/dhclient/dhclient.%i.lease
    RemainAfterExit=yes
  owner: root:root
  permissions: '0644'
- path: /etc/rc.local
  owner: root:root
  permissions: '0755'
  content: |-
    #!/bin/sh
    ifconfig eth1 up 10.3.0.1 netmask 255.255.128.0
    exit 0
</entry>
            <entry key="static_ip" type="String">172.16.1.62</entry>
            <entry key="Auto-generate config" type="Boolean">false</entry>
        </extensions>
        <interface id="0" name="eth1" ipv4="10.3.0.1" netPrefixLenV4="17"/>
    </node>
    <node name="lxc-sshd-3" type="SIMPLE" subtype="lxc-sshd" location="763,357">
        <extensions>
            <entry key="AutoNetkit.ASN" type="Integer">40</entry>
            <entry key="config" type="String">#cloud-config
bootcmd:
- ln -s -t /etc/rc.d /etc/rc.local
hostname: lxc-sshd-3
manage_etc_hosts: true
runcmd:
- systemctl start rc-local
- sed -i '/^\s*PasswordAuthentication\s\+no/d' /etc/ssh/sshd_config
- echo "UseDNS no" &gt;&gt; /etc/ssh/sshd_config
- service ssh restart
- service sshd restart
users:
- default
- gecos: User configured by VIRL Configuration Engine 0.23.7
  lock-passwd: false
  name: cisco
  plain-text-passwd: cisco
  shell: /bin/bash
  ssh-authorized-keys:
  - VIRL-USER-SSH-PUBLIC-KEY
  sudo: ALL=(ALL) ALL
write_files:
- path: /etc/systemd/system/dhclient@.service
  content: |
    [Unit]
    Description=Run dhclient on %i interface
    After=network.target
    [Service]
    Type=oneshot
    ExecStart=/sbin/dhclient %i -pf /var/run/dhclient.%i.pid -lf /var/lib/dhclient/dhclient.%i.lease
    RemainAfterExit=yes
  owner: root:root
  permissions: '0644'
- path: /etc/rc.local
  owner: root:root
  permissions: '0755'
  content: |-
    #!/bin/sh
    ifconfig eth1 up 10.3.128.1 netmask 255.255.128.0
    exit 0
</entry>
            <entry key="static_ip" type="String">172.16.1.63</entry>
            <entry key="Auto-generate config" type="Boolean">false</entry>
        </extensions>
        <interface id="0" name="eth1" ipv4="10.3.128.1" netPrefixLenV4="17"/>
    </node>
    <node name="lxc-sshd-4" type="SIMPLE" subtype="lxc-sshd" location="132,356">
        <extensions>
            <entry key="AutoNetkit.ASN" type="Integer">10</entry>
            <entry key="static_ip" type="String">172.16.1.64</entry>
            <entry key="config" type="string">#cloud-config
bootcmd:
- ln -s -t /etc/rc.d /etc/rc.local
hostname: lxc-sshd-4
manage_etc_hosts: true
runcmd:
- systemctl start rc-local
- sed -i '/^\s*PasswordAuthentication\s\+no/d' /etc/ssh/sshd_config
- echo "UseDNS no" &gt;&gt; /etc/ssh/sshd_config
- service ssh restart
- service sshd restart
users:
- default
- gecos: User configured by VIRL Configuration Engine 0.23.7
  lock-passwd: false
  name: cisco
  plain-text-passwd: cisco
  shell: /bin/bash
  ssh-authorized-keys:
  - VIRL-USER-SSH-PUBLIC-KEY
  sudo: ALL=(ALL) ALL
write_files:
- path: /etc/systemd/system/dhclient@.service
  content: |
    [Unit]
    Description=Run dhclient on %i interface
    After=network.target
    [Service]
    Type=oneshot
    ExecStart=/sbin/dhclient %i -pf /var/run/dhclient.%i.pid -lf /var/lib/dhclient/dhclient.%i.lease
    RemainAfterExit=yes
  owner: root:root
  permissions: '0644'
- path: /etc/rc.local
  owner: root:root
  permissions: '0755'
  content: |-
    #!/bin/sh
    ifconfig eth1 up 10.0.128.2 netmask 255.255.128.0
    exit 0
</entry>
            <entry key="Auto-generate config" type="Boolean">false</entry>
        </extensions>
        <interface id="0" name="eth1" ipv4="10.0.128.2" netPrefixLenV4="17"/>
    </node>
    <annotations>
        <text x="768" y="165">10.3.0.1		</text>
        <text x="781" y="340">10.3.128.1</text>
        <text x="40" y="167">10.0.0.2	</text>
        <text x="27" y="338">10.0.128.2	</text>
    </annotations>
    <connection dst="/virl:topology/virl:node[4]/virl:interface[1]" src="/virl:topology/virl:node[2]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[2]/virl:interface[2]" src="/virl:topology/virl:node[1]/virl:interface[2]"/>
    <connection dst="/virl:topology/virl:node[4]/virl:interface[2]" src="/virl:topology/virl:node[3]/virl:interface[2]"/>
    <connection dst="/virl:topology/virl:node[6]/virl:interface[1]" src="/virl:topology/virl:node[4]/virl:interface[3]"/>
    <connection dst="/virl:topology/virl:node[7]/virl:interface[1]" src="/virl:topology/virl:node[4]/virl:interface[4]"/>
    <connection dst="/virl:topology/virl:node[1]/virl:interface[3]" src="/virl:topology/virl:node[5]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[3]/virl:interface[1]" src="/virl:topology/virl:node[1]/virl:interface[1]"/>
    <connection dst="/virl:topology/virl:node[1]/virl:interface[4]" src="/virl:topology/virl:node[8]/virl:interface[1]"/>
</topology>
